#!/bin/sh
cd "$(git rev-parse --show-toplevel)"

# VÃ©rifie que PHP-CS-Fixer existe
if [ -f vendor/bin/php-cs-fixer ]; then
    echo "ðŸ”¹ VÃ©rification PHP-CS-Fixer..."
    vendor/bin/php-cs-fixer fix --dry-run --diff
fi

# VÃ©rifie que PHPStan existe
if [ -f vendor/bin/phpstan ]; then
    echo "ðŸ”¹ VÃ©rification PHPStan..."
    vendor/bin/phpstan analyse
fi

# VÃ©rifie que PHPUnit existe
if [ -f vendor/bin/phpunit ]; then
    echo "ðŸ”¹ Lancement PHPUnit..."
    vendor/bin/phpunit
fi

echo "âœ” Tout est OK. Commit autorisÃ©."
exit 0
